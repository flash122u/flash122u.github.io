<!doctype html><html lang=en dir=auto data-theme=dark><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>使用Hugo和GitHub Pages搭建博客 | flash122u's blog</title><meta name=keywords content="Hugo"><meta name=description content="记录使用Hugo静态网站生成器和GitHub Pages搭建个人博客"><meta name=author content="flash122u"><link rel=canonical href=https://flash122u.github.io/posts/how-to-build-blog/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://flash122u.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://flash122u.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://flash122u.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://flash122u.github.io/apple-touch-icon.png><link rel=mask-icon href=https://flash122u.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://flash122u.github.io/posts/how-to-build-blog/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script>localStorage.getItem("pref-theme")==="light"&&(document.querySelector("html").dataset.theme="light")</script><script async defer data-website-id=630fc019-42d4-4053-894a-95f696994ca3 src=https://cloud.umami.is/script.js></script><meta property="og:url" content="https://flash122u.github.io/posts/how-to-build-blog/"><meta property="og:site_name" content="flash122u's blog"><meta property="og:title" content="使用Hugo和GitHub Pages搭建博客"><meta property="og:description" content="记录使用Hugo静态网站生成器和GitHub Pages搭建个人博客"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-01-05T10:30:00+08:00"><meta property="article:modified_time" content="2026-01-05T10:30:00+08:00"><meta property="article:tag" content="Hugo"><meta property="og:image" content="https://flash122u.github.io/images/avatar.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://flash122u.github.io/images/avatar.png"><meta name=twitter:title content="使用Hugo和GitHub Pages搭建博客"><meta name=twitter:description content="记录使用Hugo静态网站生成器和GitHub Pages搭建个人博客"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://flash122u.github.io/posts/"},{"@type":"ListItem","position":2,"name":"使用Hugo和GitHub Pages搭建博客","item":"https://flash122u.github.io/posts/how-to-build-blog/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"使用Hugo和GitHub Pages搭建博客","name":"使用Hugo和GitHub Pages搭建博客","description":"记录使用Hugo静态网站生成器和GitHub Pages搭建个人博客","keywords":["Hugo"],"articleBody":"记录这个博客的搭建过程，使用 Hugo + GitHub Pages搭建，本文使用AI协助创作。\n一、安装 Hugo 1. 安装 Scoop 包管理器 1.1 打开 PowerShell\n按下 Win + R，输入 powershell，按回车打开 PowerShell 终端。\n1.2 允许执行脚本\n运行以下命令以设置执行策略，允许执行远程签名的脚本。\n1 Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser 如果提示是否更改执行策略，输入 Y 或 A 确认。\n1.3 下载并安装 Scoop\n运行以下命令安装 Scoop。\n1 Invoke-RestMethod -Uri https://get.scoop.sh | Invoke-Expression 安装完成后，可通过以下命令验证 Scoop 是否安装成功。\n1 scoop --version 2. 安装 Hugo 2.1 安装 Hugo 扩展版本\n运行以下命令安装 hugo-extended 版本。\n1 scoop install hugo-extended 安装完成后，验证 Hugo 是否安装成功。\n1 hugo version 2.2 更新 Scoop 与 Hugo\n更新 Scoop。\n1 scoop update 更新 Hugo。\n1 scoop update hugo-extended 二、创建与配置站点 1. 创建 Hugo 网站 安装 Hugo 后，可使用 hugo new site 命令快速创建新站点。\n1 hugo new site Blog 该命令会在当前目录下生成名为 Blog 的站点文件夹，其中包含基础的站点结构和必要的配置文件。\n2. 配置主题 创建站点后，需配置主题以定义网站的外观与功能。Hugo 社区提供了丰富的主题，可通过官网 Themes 浏览并选择适合的风格。选定主题后，进入其项目仓库，通常会有详细的安装与配置说明。 以下以 PaperMod 主题为例。\n步骤1：进入站点目录 在 PowerShell 中执行以下命令，切换至刚创建的 Blog 目录。\n1 cd D:\\Blog 步骤2：初始化 Git 仓库\n1 git init 步骤3：添加 PaperMod 为子模块 执行以下命令，将主题克隆至 themes/PaperMod 目录。\n1 git submodule add https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod 成功后，D:\\Blog\\themes 目录下会出现 PaperMod 文件夹，内含主题全部文件。\n更新主题。\n1 git submodule update --remote themes/PaperMod 2.1 配置 Hugo 使用主题 修改站点配置文件以启用主题。\n打开 D:\\Blog 目录下的 hugo.toml 文件；\n在文件末尾添加以下配置，指定使用 PaperMod 主题。\n1 theme = \"PaperMod\" 保存并关闭文件。\n2.2 测试主题是否生效 创建一篇测试文章。\n1 hugo new content posts/first-post.md 启动 Hugo 本地服务器进行预览。\n1 hugo server --buildDrafts 在浏览器中访问 http://localhost:1313，即可看到应用了 PaperMod 主题的站点样式。\n2.3 修改主题配置 参考\n教程.https://github.com/adityatelange/hugo-PaperMod/wiki/Installation\n样例.https://github.com/adityatelange/hugo-PaperMod/blob/exampleSite\n我的配置：hugo.toml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 baseURL = \"https://flash122u.github.io/\" title = \"flash122u's blog\" theme = \"PaperMod\" enableRobotsTXT = true # 启用 robots.txt 文件生成 buildDrafts = false # 不构建草稿文章 buildFuture = false # 不构建未来日期的文章 buildExpired = false # 不构建过期文章 [pagination] pagerSize = 5 # 每页显示5篇文章 [minify] disableXML = true # 禁用 XML 压缩 minifyOutput = true # 启用 HTML/CSS/JS 压缩 [params] env = \"production\" # 启用谷歌分析、开放图谱、Twitter卡片和结构化数据 title = \"flash122u's blog\" # 站点标题，建议改为你自己的 description = \"这是我的个人博客，分享技术学习和生活感悟\" # 站点描述 keywords = [\"Blog\", \"Technology\", \"Learning\"] # 站点关键词 author = \"flash122u\" # 作者名称 # author = [\"Me\", \"You\"] # 多个作者 images = [\"/images/avatar.png\"] # 开放图谱图片，替换为你的图片路径 DateFormat = \"January 2, 2006\" # 日期格式 defaultTheme = \"dark\" # 默认主题：auto, dark, light disableThemeToggle = false # 允许用户切换主题 ShowReadingTime = true # 显示阅读时间 ShowShareButtons = false # 显示分享按钮 ShowPostNavLinks = true # 显示上一篇/下一篇导航 ShowBreadCrumbs = true # 显示面包屑导航 ShowCodeCopyButtons = true # 显示代码复制按钮（设为true如果常贴代码） ShowWordCount = true # 显示字数统计 ShowRssButtonInSectionTermList = true # 在分类/标签页显示RSS按钮 UseHugoToc = true # 使用Hugo的目录生成 disableSpecial1stPost = false # 不禁用第一篇特殊文章 disableScrollToTop = false # 不禁用滚动到顶部按钮 comments = false # 禁用评论（设为true并配置评论系统如Disqus） hidemeta = false # 不隐藏元数据 hideSummary = false # 不隐藏摘要 showtoc = false # 不显示目录（设为true如果文章较长） tocopen = false # 目录默认不展开 [params.assets] # disableHLJS = true # 禁用highlight.js高亮 # disableFingerprinting = true # 禁用资源文件指纹 favicon = \"/favicon.ico\" # 网站图标路径 favicon16x16 = \"/favicon-16x16.png\" # 16x16图标 favicon32x32 = \"/favicon-32x32.png\" # 32x32图标 apple_touch_icon = \"/apple-touch-icon.png\" # iOS主屏幕图标 safari_pinned_tab = \"/safari-pinned-tab.svg\" # Safari固定标签页图标 [params.label] text = \"Home\" # 首页链接显示文本 icon = \"/apple-touch-icon.png\" # 首页图标 iconHeight = 35 # 图标高度 # 个人资料模式（个人主页样式） [params.profileMode] enabled = true # 需要显式设置为true才能启用 title = \"flash122u's blog\" # 资料模式标题 subtitle = \"If people do not believe that mathematics is simple,\\n\\nit is only because they do not realize how complicated life is.\\n\\n -- *John von Neumann*\" imageUrl = \"/images/avatar.png\" # 头像图片路径 imageWidth = 150 # 头像宽度 imageHeight = 150 # 头像高度 imageTitle = \"my avatar\" # 头像标题 [[params.profileMode.buttons]] name = \"Posts\" # 按钮1：文章列表 url = \"posts\" [[params.profileMode.buttons]] name = \"Tags\" # 按钮2：标签页 url = \"tags\" [[params.profileMode.buttons]] name = \"About\" # 按钮3：about页 url = \"about\" # 首页信息模式 [params.homeInfoParams] Title = \"Hi there \\U0001F44B\" # 首页标题 Content = \"欢迎来到我的博客，这里分享技术学习和生活感悟\" # 首页内容 # 社交媒体图标 [[params.socialIcons]] name = \"x\" # X（原Twitter） url = \"https://x.com/\" [[params.socialIcons]] name = \"github\" # GitHub url = \"https://github.com/flash122u\" # 改为你的GitHub地址 [params.analytics] # 谷歌分析验证标签（需要时添加） [params.analytics.google] SiteVerificationTag = \"XYZabc\" [params.analytics.bing] SiteVerificationTag = \"XYZabc\" [params.analytics.yandex] SiteVerificationTag = \"XYZabc\" [params.cover] hidden = true # 封面图片：在所有地方隐藏但不影响结构化数据 hiddenInList = true # 在列表页隐藏 hiddenInSingle = true # 在单篇文章页隐藏 [params.editPost] URL = \"https://github.com/flash122u/hugo-blog-source\" # 编辑文章链接，改为你的仓库 Text = \"edit\" # 编辑文本 appendFilePath = false # 在编辑链接后追加文件路径 # 搜索功能配置（Fuse.js） [params.fuseOpts] isCaseSensitive = false # 不区分大小写 shouldSort = true # 排序结果 location = 0 # 匹配位置 distance = 1000 # 匹配距离 threshold = 0.4 # 匹配阈值 minMatchCharLength = 0 # 最小匹配字符长度 limit = 10 # 搜索结果限制数量 keys = [\"title\", \"permalink\", \"summary\", \"content\"] # 搜索的字段 # 启用分类和标签系统（重要！） [taxonomies] category = \"categories\" # 分类 tag = \"tags\" # 标签 # 导航菜单配置 [[menu.main]] identifier = \"categories\" name = \"Categories\" url = \"/categories/\" # 分类页面 weight = 10 # 权重（排序用，数值越小越靠前） [[menu.main]] identifier = \"tags\" name = \"Tags\" url = \"/tags/\" # 标签页面 weight = 20 [[menu.main]] identifier = \"rss\" name = \"RSS\" url = \"/index.xml\" # RSS订阅地址 weight = 30 [[menu.main]] identifier = \"archive\" name = \"Archive\" url = \"/archives/\" # 文章归档页面 weight = 30 [[menu.main]] identifier = \"search\" name = \"Search\" url = \"/search/\" # 搜索页面 weight = 30 [[menu.main]] identifier = \"about\" name = \"About\" url = \"/about/\" # 关于页面 weight = 40 # 语法高亮设置 # 参考：https://github.com/adityatelange/hugo-PaperMod/wiki/FAQs#using-hugos-syntax-highlighter-chroma pygmentsUseClasses = true [markup] [markup.highlight] noClasses = false # anchorLineNos = true # 为行号添加锚点 # codeFences = true # 启用代码围栏 guessSyntax = true # 猜测语法 lineNos = true # 显示行号 style = \"monokai\" # 代码高亮样式 三、部署到 GitHub Pages 这个博客采用双仓库方案。\n源码仓库：命名为 hugo-blog-source，用于存放 Hugo 配置、主题、文章等所有源码； Pages 仓库：命名为 flash122u.github.io（必须为「用户名.github.io」格式），仅存放 Hugo 生成的静态网页文件，供 GitHub Pages 展示。 整体流程：在本地修改源码 → 推送至源码仓库 → GitHub Actions 自动构建静态文件 → 将静态文件推送至 Pages 仓库 → GitHub Pages 自动更新生效。\n1. 创建两个 GitHub 仓库 仓库 1：Pages 仓库\n登录 GitHub → 点击右上角「+」→「New repository」； Repository name：填写 flash122u.github.io（必须严格匹配，否则 Pages 无法正常访问）； Visibility：选择 Public（Pages 仓库必须公开）； 无需勾选「Add a README file」，直接点击「Create repository」。 仓库 2：源码仓库\n再次点击「New repository」； Repository name：填写 hugo-blog-source； Visibility：可选择 Public 或 Private； 无需勾选「Add a README file」，直接点击「Create repository」。 2. 将本地 Hugo 站点关联至源码仓库 打开 Windows PowerShell，依次执行以下命令。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # 1. 进入本地 Hugo 站点目录 cd D:\\Blog # 2. 创建 .gitignore 文件（排除无需推送的目录与文件） echo \"public/\" \u003e\u003e .gitignore echo \"resources/\" \u003e\u003e .gitignore echo \".DS_Store\" \u003e\u003e .gitignore echo \"Thumbs.db\" \u003e\u003e .gitignore echo \".hugo_build.lock\" \u003e\u003e .gitignore # 3. 关联源码仓库 git remote add origin https://github.com/flash122u/hugo-blog-source.git # 4. 添加所有源码文件并提交 git add . git commit -m \"Initial commit: Hugo source with PaperMod theme\" # 5. 推送本地代码至源码仓库的 main 分支 git push -u origin main 3. 创建个人访问令牌（PAT） 默认的 GITHUB_TOKEN 无法访问其他仓库，因此需要创建 PAT 并赋予相应权限。\n步骤1：点击 GitHub 右上角头像 →「Settings」→ 滚动至底部「Developer settings」； 步骤2：点击「Personal access tokens」→「Tokens (classic)」； 步骤3：点击「Generate new token (classic)」。\nNote：填写令牌名称（例如 hugo-deploy-token）； Expiration：选择 No expiration（避免令牌过期导致部署失败）； Scopes：勾选 repo 下的所有权限（必须全部勾选，否则无法推送至 Pages 仓库）； 步骤4：滚动到底部并点击「Generate token」→ 立即复制生成的令牌（以 ghp_ 开头，关闭页面后将无法再次查看，先复制到文本编辑器）。 4. 将 PAT 添加至源码仓库的 Secrets 打开源码仓库：https://github.com/flash122u/hugo-blog-source； 点击「Settings」→ 左侧「Secrets and variables」→「Actions」； 点击「New repository secret」。 Name：填写 PERSONAL_TOKEN（必须与后续的配置文件保持一致）； Value：粘贴刚才复制的 PAT 令牌； 点击「Add secret」保存。 5. 配置 GitHub Actions 实现自动部署 5.1 创建 Actions 配置文件 在本地 D:\\Blog 目录下，手动创建文件夹 .github/workflows（注意开头的点），然后在该文件夹内新建文件 deploy.yml，并粘贴以下完整配置。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 name: Deploy Hugo to GitHub Pages on: push: branches: [\"main\"] # 允许手动触发部署 workflow_dispatch: # 配置权限 permissions: contents: read # 读取源码仓库内容 pages: write # Pages 相关权限 id-token: write # 身份验证权限 concurrency: group: \"pages\" cancel-in-progress: false jobs: build-and-deploy: runs-on: ubuntu-latest steps: # 步骤1.拉取源码仓库代码（包含 PaperMod 主题子模块） - name: Checkout source code uses: actions/checkout@v4 with: submodules: true # 必须开启，以拉取主题子模块 fetch-depth: 0 # 步骤2.安装 Hugo 环境 - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \"latest\" extended: true # 使用扩展版以兼容 PaperMod 主题 # 步骤3.生成静态文件（输出至 public 目录） - name: Build static files run: hugo --minify # 步骤4.部署静态文件至 Pages 仓库 - name: Deploy to flash122u.github.io uses: peaceiris/actions-gh-pages@v4 with: # 使用自定义 PAT 令牌（替代默认的 GITHUB_TOKEN） personal_token: ${{ secrets.PERSONAL_TOKEN }} # 指定 Pages 仓库地址（替换为自己的 Pages 仓库地址） external_repository: flash122u/flash122u.github.io # 静态文件目录 publish_dir: ./public # 推送至 Pages 仓库的 main 分支 publish_branch: main # 强制覆盖，确保 Pages 仓库仅包含静态文件 force_orphan: true # 配置 Git 提交信息（避免报错） user_name: \"github-actions[bot]\" user_email = \"github-actions[bot]@users.noreply.github.com\" 5.2 将 Actions 配置推送至源码仓库 1 2 3 4 5 6 7 8 9 10 11 # 进入本地站点目录 cd D:\\Blog # 添加配置文件 git add . # 提交修改 git commit -m \"Add GitHub Actions workflow for double repo deployment\" # 推送至源码仓库 git push origin main 6. 配置 Pages 仓库的 GitHub Pages 来源 （一般为默认配置，无需修改。）\n打开 Pages 仓库：https://github.com/flash122u/flash122u.github.io； 点击「Settings」→ 左侧「Pages」； 在「Build and deployment」区域。 Source：选择 Deploy from a branch； Branch：选择 main，目录选择 / (root)； 点击「Save」保存配置。 7. 验证部署结果 验证步骤1：打开源码仓库 hugo-blog-source → 点击「Actions」标签，查看 workflow 运行状态（绿色对勾表示成功）； 验证步骤2：运行成功后，打开 Pages 仓库 flash122u.github.io，可见 main 分支下已出现 html、css、js 等静态文件； 验证步骤3：等待 1-2 分钟，访问 https://flash122u.github.io，即可看到应用了 PaperMod 主题的 Hugo 站点，说明部署成功。\n四、更新文章与配置 后续修改或添加内容。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 # 1. 进入本地站点目录 cd D:\\Blog # 2. 创建新文章（示例） hugo new content posts/my-new-article.md # 3. 编辑文章（使用编辑器打开 posts/my-new-article.md 并撰写内容） # 4. 提交修改至本地仓库 git add . git commit -m \"Add new article: 我的新文章\" # 5. 推送至源码仓库，触发自动部署 git push origin main # 若本地分支为 master，请改为 git push origin master:main 推送后，GitHub Actions 将自动运行，等1-2分钟，新内容便会同步至 https://flash122u.github.io。\n五.集成 Umami 统计 1.注册 Umami 访问 Umami Cloud 注册页，输入邮箱、密码完成注册。 查收邮箱验证码并验证，登录后按提示选择数据区域，进入控制台。 点击 Add website，输入博客域名，提交后复制生成的 websiteId（一串 UUID）。 2.配置 hugo.toml 在博客根目录的 hugo.toml 中添加以下配置（保留原有内容，新增 analytics 节点）：\n1 2 3 4 5 [params] [params.analytics] [params.analytics.umami] src = \"https://cloud.umami.is/script.js\" # Umami 官方脚本地址 websiteId = \"630fc019-42d4-4053-894a-95f696994ca3\" # 替换为你的 websiteId 3.创建 extend_head.html 模板 在博客根目录新建路径 layouts/partials/，在该目录下创建 extend_head.html 文件。 写入以下代码，实现脚本的条件加载： 1 2 3 4 5 6 7 {{- /* Umami Analytics */ -}} {{- if .Site.Params.analytics.umami.src -}} \u003cscript async defer data-website-id=\"{{ .Site.Params.analytics.umami.websiteId }}\" src=\"{{ .Site.Params.analytics.umami.src }}\"\u003e \u003c/script\u003e {{- end -}} 4.部署与验证 提交代码并推送到 GitHub： 1 git add . \u0026\u0026 git commit -m \"Add Umami analytics\" \u0026\u0026 git push 等待 GitHub Actions 完成部署，访问博客。 打开浏览器开发者工具（F12），在 Network 面板搜索 script.js，确认请求成功且 data-website-id 正确。 回到 Umami 控制台，即可查看实时访问数据。 ","wordCount":"1683","inLanguage":"en","image":"https://flash122u.github.io/images/avatar.png","datePublished":"2026-01-05T10:30:00+08:00","dateModified":"2026-01-05T10:30:00+08:00","author":{"@type":"Person","name":"flash122u"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://flash122u.github.io/posts/how-to-build-blog/"},"publisher":{"@type":"Organization","name":"flash122u's blog","logo":{"@type":"ImageObject","url":"https://flash122u.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://flash122u.github.io/ accesskey=h title="Home (Alt + H)"><img src=https://flash122u.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://flash122u.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://flash122u.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://flash122u.github.io/index.xml title=RSS><span>RSS</span></a></li><li><a href=https://flash122u.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://flash122u.github.io/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://flash122u.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://flash122u.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">使用Hugo和GitHub Pages搭建博客</h1><div class=post-description>记录使用Hugo静态网站生成器和GitHub Pages搭建个人博客</div><div class=post-meta><span title='2026-01-05 10:30:00 +0800 +0800'>January 5, 2026</span>&nbsp;·&nbsp;<span>8 min</span>&nbsp;·&nbsp;<span>1683 words</span>&nbsp;·&nbsp;<span>flash122u</span>&nbsp;|&nbsp;<span>
<a href=https://github.com/flash122u/hugo-blog-source rel="noopener noreferrer edit" target=_blank>edit</a></span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#一安装-hugo>一、安装 Hugo</a><ul><li><a href=#1-安装-scoop-包管理器>1. 安装 Scoop 包管理器</a></li><li><a href=#2-安装-hugo>2. 安装 Hugo</a></li></ul></li><li><a href=#二创建与配置站点>二、创建与配置站点</a><ul><li><a href=#1-创建-hugo-网站>1. 创建 Hugo 网站</a></li><li><a href=#2-配置主题>2. 配置主题</a></li></ul></li><li><a href=#三部署到-github-pages>三、部署到 GitHub Pages</a><ul><li><a href=#1-创建两个-github-仓库>1. 创建两个 GitHub 仓库</a></li><li><a href=#2-将本地-hugo-站点关联至源码仓库>2. 将本地 Hugo 站点关联至源码仓库</a></li><li><a href=#3-创建个人访问令牌pat>3. 创建个人访问令牌（PAT）</a></li><li><a href=#4-将-pat-添加至源码仓库的-secrets>4. 将 PAT 添加至源码仓库的 Secrets</a></li><li><a href=#5-配置-github-actions-实现自动部署>5. 配置 GitHub Actions 实现自动部署</a></li><li><a href=#6-配置-pages-仓库的-github-pages-来源>6. 配置 Pages 仓库的 GitHub Pages 来源</a></li><li><a href=#7-验证部署结果>7. 验证部署结果</a></li></ul></li><li><a href=#四更新文章与配置>四、更新文章与配置</a></li></ul><ul><li><ul><li><a href=#1注册-umami>1.注册 Umami</a></li><li><a href=#2配置-hugotoml>2.配置 hugo.toml</a></li><li><a href=#3创建-extend_headhtml-模板>3.创建 extend_head.html 模板</a></li><li><a href=#4部署与验证>4.部署与验证</a></li></ul></li></ul></nav></div></details></div><div class=post-content><p>记录这个博客的搭建过程，使用 Hugo + GitHub Pages搭建，本文使用AI协助创作。</p><h2 id=一安装-hugo>一、安装 Hugo<a hidden class=anchor aria-hidden=true href=#一安装-hugo>#</a></h2><h3 id=1-安装-scoop-包管理器>1. 安装 Scoop 包管理器<a hidden class=anchor aria-hidden=true href=#1-安装-scoop-包管理器>#</a></h3><p><strong>1.1 打开 PowerShell</strong></p><p>按下 <code>Win + R</code>，输入 <code>powershell</code>，按回车打开 PowerShell 终端。</p><p><strong>1.2 允许执行脚本</strong></p><p>运行以下命令以设置执行策略，允许执行远程签名的脚本。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>Set-ExecutionPolicy</span> <span class=n>-ExecutionPolicy</span> <span class=n>RemoteSigned</span> <span class=n>-Scope</span> <span class=n>CurrentUser</span>
</span></span></code></pre></td></tr></table></div></div><p>如果提示是否更改执行策略，输入 <code>Y</code> 或 <code>A</code> 确认。</p><p><strong>1.3 下载并安装 Scoop</strong></p><p>运行以下命令安装 Scoop。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>Invoke-RestMethod</span> <span class=n>-Uri</span> <span class=n>https</span><span class=err>:</span><span class=p>//</span><span class=n>get</span><span class=p>.</span><span class=py>scoop</span><span class=p>.</span><span class=py>sh</span> <span class=p>|</span> <span class=nb>Invoke-Expression</span>
</span></span></code></pre></td></tr></table></div></div><p>安装完成后，可通过以下命令验证 Scoop 是否安装成功。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>scoop</span> <span class=p>-</span><span class=n>-version</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=2-安装-hugo>2. 安装 Hugo<a hidden class=anchor aria-hidden=true href=#2-安装-hugo>#</a></h3><p><strong>2.1 安装 Hugo 扩展版本</strong></p><p>运行以下命令安装 <code>hugo-extended</code> 版本。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>scoop</span> <span class=n>install</span> <span class=nb>hugo-extended</span>
</span></span></code></pre></td></tr></table></div></div><p>安装完成后，验证 Hugo 是否安装成功。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>hugo</span> <span class=n>version</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>2.2 更新 Scoop 与 Hugo</strong></p><ul><li><p>更新 Scoop。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>scoop</span> <span class=n>update</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>更新 Hugo。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>scoop</span> <span class=n>update</span> <span class=nb>hugo-extended</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><hr><h2 id=二创建与配置站点>二、创建与配置站点<a hidden class=anchor aria-hidden=true href=#二创建与配置站点>#</a></h2><h3 id=1-创建-hugo-网站>1. 创建 Hugo 网站<a hidden class=anchor aria-hidden=true href=#1-创建-hugo-网站>#</a></h3><p>安装 Hugo 后，可使用 <code>hugo new site</code> 命令快速创建新站点。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo new site Blog
</span></span></code></pre></td></tr></table></div></div><p>该命令会在当前目录下生成名为 <code>Blog</code> 的站点文件夹，其中包含基础的站点结构和必要的配置文件。</p><hr><h3 id=2-配置主题>2. 配置主题<a hidden class=anchor aria-hidden=true href=#2-配置主题>#</a></h3><p>创建站点后，需配置主题以定义网站的外观与功能。Hugo 社区提供了丰富的主题，可通过官网 <a href=https://themes.gohugo.io/>Themes</a> 浏览并选择适合的风格。选定主题后，进入其项目仓库，通常会有详细的安装与配置说明。
以下以 <a href=https://github.com/adityatelange/hugo-PaperMod.git>PaperMod</a> 主题为例。</p><p><strong>步骤1：进入站点目录</strong>
在 PowerShell 中执行以下命令，切换至刚创建的 Blog 目录。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>cd </span><span class=n>D:</span><span class=p>\</span><span class=n>Blog</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>步骤2：初始化 Git 仓库</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>init</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>步骤3：添加 PaperMod 为子模块</strong>
执行以下命令，将主题克隆至 <code>themes/PaperMod</code> 目录。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>submodule</span> <span class=n>add</span> <span class=n>https</span><span class=err>:</span><span class=p>//</span><span class=n>github</span><span class=p>.</span><span class=n>com</span><span class=p>/</span><span class=n>adityatelange</span><span class=p>/</span><span class=nb>hugo-PaperMod</span><span class=p>.</span><span class=py>git</span> <span class=n>themes</span><span class=p>/</span><span class=n>PaperMod</span>
</span></span></code></pre></td></tr></table></div></div><p>成功后，<code>D:\Blog\themes</code> 目录下会出现 <code>PaperMod</code> 文件夹，内含主题全部文件。</p><p>更新主题。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>git</span> <span class=n>submodule</span> <span class=n>update</span> <span class=p>-</span><span class=n>-remote</span> <span class=n>themes</span><span class=p>/</span><span class=n>PaperMod</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=21-配置-hugo-使用主题>2.1 配置 Hugo 使用主题<a hidden class=anchor aria-hidden=true href=#21-配置-hugo-使用主题>#</a></h4><p>修改站点配置文件以启用主题。</p><ol><li><p>打开 <code>D:\Blog</code> 目录下的 <code>hugo.toml</code> 文件；</p></li><li><p>在文件末尾添加以下配置，指定使用 PaperMod 主题。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>theme</span> <span class=p>=</span> <span class=s2>&#34;PaperMod&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>保存并关闭文件。</p></li></ol><h4 id=22-测试主题是否生效>2.2 测试主题是否生效<a hidden class=anchor aria-hidden=true href=#22-测试主题是否生效>#</a></h4><ol><li><p>创建一篇测试文章。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>hugo</span> <span class=n>new</span> <span class=n>content</span> <span class=n>posts</span><span class=p>/</span><span class=nb>first-post</span><span class=p>.</span><span class=nb>md
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>启动 Hugo 本地服务器进行预览。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>hugo</span> <span class=n>server</span> <span class=p>-</span><span class=n>-buildDrafts</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>在浏览器中访问 <code>http://localhost:1313</code>，即可看到应用了 PaperMod 主题的站点样式。</p></li></ol><h4 id=23-修改主题配置>2.3 修改主题配置<a hidden class=anchor aria-hidden=true href=#23-修改主题配置>#</a></h4><p>参考</p><p>教程.https://github.com/adityatelange/hugo-PaperMod/wiki/Installation</p><p>样例.https://github.com/adityatelange/hugo-PaperMod/blob/exampleSite</p><p>我的配置：hugo.toml</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>baseURL = &#34;https://flash122u.github.io/&#34;
</span></span><span class=line><span class=cl>title = &#34;flash122u&#39;s blog&#34;
</span></span><span class=line><span class=cl>theme = &#34;PaperMod&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>enableRobotsTXT = true  # 启用 robots.txt 文件生成
</span></span><span class=line><span class=cl>buildDrafts = false     # 不构建草稿文章
</span></span><span class=line><span class=cl>buildFuture = false     # 不构建未来日期的文章
</span></span><span class=line><span class=cl>buildExpired = false    # 不构建过期文章
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[pagination]
</span></span><span class=line><span class=cl>  pagerSize = 5  # 每页显示5篇文章
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[minify]
</span></span><span class=line><span class=cl>  disableXML = true    # 禁用 XML 压缩
</span></span><span class=line><span class=cl>  minifyOutput = true  # 启用 HTML/CSS/JS 压缩
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[params]
</span></span><span class=line><span class=cl>  env = &#34;production&#34; # 启用谷歌分析、开放图谱、Twitter卡片和结构化数据
</span></span><span class=line><span class=cl>  title = &#34;flash122u&#39;s blog&#34;  # 站点标题，建议改为你自己的
</span></span><span class=line><span class=cl>  description = &#34;这是我的个人博客，分享技术学习和生活感悟&#34;  # 站点描述
</span></span><span class=line><span class=cl>  keywords = [&#34;Blog&#34;, &#34;Technology&#34;, &#34;Learning&#34;]  # 站点关键词
</span></span><span class=line><span class=cl>  author = &#34;flash122u&#34;  # 作者名称
</span></span><span class=line><span class=cl>  # author = [&#34;Me&#34;, &#34;You&#34;] # 多个作者
</span></span><span class=line><span class=cl>  images = [&#34;/images/avatar.png&#34;]  # 开放图谱图片，替换为你的图片路径
</span></span><span class=line><span class=cl>  DateFormat = &#34;January 2, 2006&#34;  # 日期格式
</span></span><span class=line><span class=cl>  defaultTheme = &#34;dark&#34; # 默认主题：auto, dark, light
</span></span><span class=line><span class=cl>  disableThemeToggle = false  # 允许用户切换主题
</span></span><span class=line><span class=cl>  ShowReadingTime = true  # 显示阅读时间
</span></span><span class=line><span class=cl>  ShowShareButtons = false  # 显示分享按钮
</span></span><span class=line><span class=cl>  ShowPostNavLinks = true  # 显示上一篇/下一篇导航
</span></span><span class=line><span class=cl>  ShowBreadCrumbs = true  # 显示面包屑导航
</span></span><span class=line><span class=cl>  ShowCodeCopyButtons = true  # 显示代码复制按钮（设为true如果常贴代码）
</span></span><span class=line><span class=cl>  ShowWordCount = true  # 显示字数统计
</span></span><span class=line><span class=cl>  ShowRssButtonInSectionTermList = true  # 在分类/标签页显示RSS按钮
</span></span><span class=line><span class=cl>  UseHugoToc = true  # 使用Hugo的目录生成
</span></span><span class=line><span class=cl>  disableSpecial1stPost = false  # 不禁用第一篇特殊文章
</span></span><span class=line><span class=cl>  disableScrollToTop = false  # 不禁用滚动到顶部按钮
</span></span><span class=line><span class=cl>  comments = false  # 禁用评论（设为true并配置评论系统如Disqus）
</span></span><span class=line><span class=cl>  hidemeta = false  # 不隐藏元数据
</span></span><span class=line><span class=cl>  hideSummary = false  # 不隐藏摘要
</span></span><span class=line><span class=cl>  showtoc = false  # 不显示目录（设为true如果文章较长）
</span></span><span class=line><span class=cl>  tocopen = false  # 目录默认不展开
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  [params.assets]
</span></span><span class=line><span class=cl>    # disableHLJS = true # 禁用highlight.js高亮
</span></span><span class=line><span class=cl>    # disableFingerprinting = true # 禁用资源文件指纹
</span></span><span class=line><span class=cl>    favicon = &#34;/favicon.ico&#34;  # 网站图标路径
</span></span><span class=line><span class=cl>    favicon16x16 = &#34;/favicon-16x16.png&#34;  # 16x16图标
</span></span><span class=line><span class=cl>    favicon32x32 = &#34;/favicon-32x32.png&#34;  # 32x32图标
</span></span><span class=line><span class=cl>    apple_touch_icon = &#34;/apple-touch-icon.png&#34;  # iOS主屏幕图标
</span></span><span class=line><span class=cl>    safari_pinned_tab = &#34;/safari-pinned-tab.svg&#34;  # Safari固定标签页图标
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  [params.label]
</span></span><span class=line><span class=cl>    text = &#34;Home&#34;  # 首页链接显示文本
</span></span><span class=line><span class=cl>    icon = &#34;/apple-touch-icon.png&#34;  # 首页图标
</span></span><span class=line><span class=cl>    iconHeight = 35  # 图标高度
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  # 个人资料模式（个人主页样式）
</span></span><span class=line><span class=cl>  [params.profileMode]
</span></span><span class=line><span class=cl>    enabled = true # 需要显式设置为true才能启用
</span></span><span class=line><span class=cl>    title = &#34;flash122u&#39;s blog&#34;  # 资料模式标题
</span></span><span class=line><span class=cl>  subtitle = &#34;If people do not believe that mathematics is simple,\n\nit is only because they do not realize how complicated life is.\n\n  -- *John von Neumann*&#34;
</span></span><span class=line><span class=cl>  imageUrl = &#34;/images/avatar.png&#34;  # 头像图片路径
</span></span><span class=line><span class=cl>    imageWidth = 150  # 头像宽度
</span></span><span class=line><span class=cl>    imageHeight = 150  # 头像高度
</span></span><span class=line><span class=cl>    imageTitle = &#34;my avatar&#34;  # 头像标题
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    [[params.profileMode.buttons]]
</span></span><span class=line><span class=cl>      name = &#34;Posts&#34;  # 按钮1：文章列表
</span></span><span class=line><span class=cl>      url = &#34;posts&#34;
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    [[params.profileMode.buttons]]
</span></span><span class=line><span class=cl>      name = &#34;Tags&#34;  # 按钮2：标签页
</span></span><span class=line><span class=cl>      url = &#34;tags&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    [[params.profileMode.buttons]]
</span></span><span class=line><span class=cl>      name = &#34;About&#34;  # 按钮3：about页
</span></span><span class=line><span class=cl>      url = &#34;about&#34;
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  # 首页信息模式
</span></span><span class=line><span class=cl>  [params.homeInfoParams]
</span></span><span class=line><span class=cl>    Title = &#34;Hi there \U0001F44B&#34;  # 首页标题
</span></span><span class=line><span class=cl>    Content = &#34;欢迎来到我的博客，这里分享技术学习和生活感悟&#34;  # 首页内容
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  # 社交媒体图标
</span></span><span class=line><span class=cl>  [[params.socialIcons]]
</span></span><span class=line><span class=cl>    name = &#34;x&#34;  # X（原Twitter）
</span></span><span class=line><span class=cl>    url = &#34;https://x.com/&#34;
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  [[params.socialIcons]]
</span></span><span class=line><span class=cl>    name = &#34;github&#34;  # GitHub
</span></span><span class=line><span class=cl>    url = &#34;https://github.com/flash122u&#34;  # 改为你的GitHub地址
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  [params.analytics]
</span></span><span class=line><span class=cl>    # 谷歌分析验证标签（需要时添加）
</span></span><span class=line><span class=cl>    [params.analytics.google]
</span></span><span class=line><span class=cl>      SiteVerificationTag = &#34;XYZabc&#34;
</span></span><span class=line><span class=cl>    [params.analytics.bing]
</span></span><span class=line><span class=cl>      SiteVerificationTag = &#34;XYZabc&#34;
</span></span><span class=line><span class=cl>    [params.analytics.yandex]
</span></span><span class=line><span class=cl>      SiteVerificationTag = &#34;XYZabc&#34;
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  [params.cover]
</span></span><span class=line><span class=cl>    hidden = true # 封面图片：在所有地方隐藏但不影响结构化数据
</span></span><span class=line><span class=cl>    hiddenInList = true # 在列表页隐藏
</span></span><span class=line><span class=cl>    hiddenInSingle = true # 在单篇文章页隐藏
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  [params.editPost]
</span></span><span class=line><span class=cl>    URL = &#34;https://github.com/flash122u/hugo-blog-source&#34;  # 编辑文章链接，改为你的仓库
</span></span><span class=line><span class=cl>    Text = &#34;edit&#34; # 编辑文本
</span></span><span class=line><span class=cl>    appendFilePath = false # 在编辑链接后追加文件路径
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  # 搜索功能配置（Fuse.js）
</span></span><span class=line><span class=cl>  [params.fuseOpts]
</span></span><span class=line><span class=cl>    isCaseSensitive = false  # 不区分大小写
</span></span><span class=line><span class=cl>    shouldSort = true  # 排序结果
</span></span><span class=line><span class=cl>    location = 0  # 匹配位置
</span></span><span class=line><span class=cl>    distance = 1000  # 匹配距离
</span></span><span class=line><span class=cl>    threshold = 0.4  # 匹配阈值
</span></span><span class=line><span class=cl>    minMatchCharLength = 0  # 最小匹配字符长度
</span></span><span class=line><span class=cl>    limit = 10 # 搜索结果限制数量
</span></span><span class=line><span class=cl>    keys = [&#34;title&#34;, &#34;permalink&#34;, &#34;summary&#34;, &#34;content&#34;]  # 搜索的字段
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># 启用分类和标签系统（重要！）
</span></span><span class=line><span class=cl>[taxonomies]
</span></span><span class=line><span class=cl>  category = &#34;categories&#34;  # 分类
</span></span><span class=line><span class=cl>  tag = &#34;tags&#34;  # 标签
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># 导航菜单配置
</span></span><span class=line><span class=cl>[[menu.main]]
</span></span><span class=line><span class=cl>  identifier = &#34;categories&#34;
</span></span><span class=line><span class=cl>  name = &#34;Categories&#34;
</span></span><span class=line><span class=cl>  url = &#34;/categories/&#34;  # 分类页面
</span></span><span class=line><span class=cl>  weight = 10  # 权重（排序用，数值越小越靠前）
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>[[menu.main]]
</span></span><span class=line><span class=cl>  identifier = &#34;tags&#34;
</span></span><span class=line><span class=cl>  name = &#34;Tags&#34;
</span></span><span class=line><span class=cl>  url = &#34;/tags/&#34;  # 标签页面
</span></span><span class=line><span class=cl>  weight = 20
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[[menu.main]]
</span></span><span class=line><span class=cl>  identifier = &#34;rss&#34;
</span></span><span class=line><span class=cl>  name = &#34;RSS&#34;
</span></span><span class=line><span class=cl>  url = &#34;/index.xml&#34;  # RSS订阅地址
</span></span><span class=line><span class=cl>  weight = 30
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[[menu.main]]
</span></span><span class=line><span class=cl>  identifier = &#34;archive&#34;
</span></span><span class=line><span class=cl>  name = &#34;Archive&#34;
</span></span><span class=line><span class=cl>  url = &#34;/archives/&#34;  # 文章归档页面
</span></span><span class=line><span class=cl>  weight = 30
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[[menu.main]]
</span></span><span class=line><span class=cl>  identifier = &#34;search&#34;
</span></span><span class=line><span class=cl>  name = &#34;Search&#34;
</span></span><span class=line><span class=cl>  url = &#34;/search/&#34;  # 搜索页面
</span></span><span class=line><span class=cl>  weight = 30
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[[menu.main]]
</span></span><span class=line><span class=cl>  identifier = &#34;about&#34;
</span></span><span class=line><span class=cl>  name = &#34;About&#34;
</span></span><span class=line><span class=cl>  url = &#34;/about/&#34;  # 关于页面
</span></span><span class=line><span class=cl>  weight = 40
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># 语法高亮设置
</span></span><span class=line><span class=cl># 参考：https://github.com/adityatelange/hugo-PaperMod/wiki/FAQs#using-hugos-syntax-highlighter-chroma
</span></span><span class=line><span class=cl>pygmentsUseClasses = true
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[markup]
</span></span><span class=line><span class=cl>  [markup.highlight]
</span></span><span class=line><span class=cl>    noClasses = false
</span></span><span class=line><span class=cl>    # anchorLineNos = true  # 为行号添加锚点
</span></span><span class=line><span class=cl>    # codeFences = true     # 启用代码围栏
</span></span><span class=line><span class=cl>    guessSyntax = true    # 猜测语法
</span></span><span class=line><span class=cl>    lineNos = true        # 显示行号
</span></span><span class=line><span class=cl>    style = &#34;monokai&#34;     # 代码高亮样式
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=三部署到-github-pages>三、部署到 GitHub Pages<a hidden class=anchor aria-hidden=true href=#三部署到-github-pages>#</a></h2><p>这个博客采用<strong>双仓库方案</strong>。</p><ul><li><strong>源码仓库</strong>：命名为 <code>hugo-blog-source</code>，用于存放 Hugo 配置、主题、文章等所有源码；</li><li><strong>Pages 仓库</strong>：命名为 <code>flash122u.github.io</code>（必须为「用户名.github.io」格式），仅存放 Hugo 生成的静态网页文件，供 GitHub Pages 展示。</li></ul><p><strong>整体流程</strong>：在本地修改源码 → 推送至源码仓库 → GitHub Actions 自动构建静态文件 → 将静态文件推送至 Pages 仓库 → GitHub Pages 自动更新生效。</p><h3 id=1-创建两个-github-仓库>1. 创建两个 GitHub 仓库<a hidden class=anchor aria-hidden=true href=#1-创建两个-github-仓库>#</a></h3><p><strong>仓库 1：Pages 仓库</strong></p><ol><li>登录 GitHub → 点击右上角「+」→「New repository」；</li><li><strong>Repository name</strong>：填写 <code>flash122u.github.io</code>（必须严格匹配，否则 Pages 无法正常访问）；</li><li><strong>Visibility</strong>：选择 <code>Public</code>（Pages 仓库必须公开）；</li><li>无需勾选「Add a README file」，直接点击「Create repository」。</li></ol><p><strong>仓库 2：源码仓库</strong></p><ol><li>再次点击「New repository」；</li><li><strong>Repository name</strong>：填写 <code>hugo-blog-source</code>；</li><li><strong>Visibility</strong>：可选择 <code>Public</code> 或 <code>Private</code>；</li><li>无需勾选「Add a README file」，直接点击「Create repository」。</li></ol><hr><h3 id=2-将本地-hugo-站点关联至源码仓库>2. 将本地 Hugo 站点关联至源码仓库<a hidden class=anchor aria-hidden=true href=#2-将本地-hugo-站点关联至源码仓库>#</a></h3><p>打开 Windows PowerShell，依次执行以下命令。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=c># 1. 进入本地 Hugo 站点目录</span>
</span></span><span class=line><span class=cl><span class=nb>cd </span><span class=n>D:</span><span class=p>\</span><span class=n>Blog</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># 2. 创建 .gitignore 文件（排除无需推送的目录与文件）</span>
</span></span><span class=line><span class=cl><span class=nb>echo </span><span class=s2>&#34;public/&#34;</span> <span class=p>&gt;&gt;</span> <span class=p>.</span><span class=py>gitignore</span>
</span></span><span class=line><span class=cl><span class=nb>echo </span><span class=s2>&#34;resources/&#34;</span> <span class=p>&gt;&gt;</span> <span class=p>.</span><span class=py>gitignore</span>
</span></span><span class=line><span class=cl><span class=nb>echo </span><span class=s2>&#34;.DS_Store&#34;</span> <span class=p>&gt;&gt;</span> <span class=p>.</span><span class=py>gitignore</span>
</span></span><span class=line><span class=cl><span class=nb>echo </span><span class=s2>&#34;Thumbs.db&#34;</span> <span class=p>&gt;&gt;</span> <span class=p>.</span><span class=py>gitignore</span>
</span></span><span class=line><span class=cl><span class=nb>echo </span><span class=s2>&#34;.hugo_build.lock&#34;</span> <span class=p>&gt;&gt;</span> <span class=p>.</span><span class=py>gitignore</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># 3. 关联源码仓库</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>remote</span> <span class=n>add</span> <span class=n>origin</span> <span class=n>https</span><span class=err>:</span><span class=p>//</span><span class=n>github</span><span class=p>.</span><span class=n>com</span><span class=p>/</span><span class=n>flash122u</span><span class=p>/</span><span class=nb>hugo-blog</span><span class=n>-source</span><span class=p>.</span><span class=py>git</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># 4. 添加所有源码文件并提交</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>add</span> <span class=p>.</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>commit</span> <span class=n>-m</span> <span class=s2>&#34;Initial commit: Hugo source with PaperMod theme&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># 5. 推送本地代码至源码仓库的 main 分支</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>push</span> <span class=n>-u</span> <span class=n>origin</span> <span class=n>main</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=3-创建个人访问令牌pat>3. 创建个人访问令牌（PAT）<a hidden class=anchor aria-hidden=true href=#3-创建个人访问令牌pat>#</a></h3><p>默认的 <code>GITHUB_TOKEN</code> 无法访问其他仓库，因此需要创建 PAT 并赋予相应权限。</p><p><strong>步骤1：点击 GitHub 右上角头像 →「Settings」→ 滚动至底部「Developer settings」；</strong>
<strong>步骤2：点击「Personal access tokens」→「Tokens (classic)」；</strong>
<strong>步骤3：点击「Generate new token (classic)」。</strong></p><ul><li><strong>Note</strong>：填写令牌名称（例如 <code>hugo-deploy-token</code>）；</li><li><strong>Expiration</strong>：选择 <code>No expiration</code>（避免令牌过期导致部署失败）；</li><li><strong>Scopes</strong>：勾选 <code>repo</code> 下的<strong>所有权限</strong>（必须全部勾选，否则无法推送至 Pages 仓库）；
<strong>步骤4：滚动到底部并点击「Generate token」→ 立即复制生成的令牌</strong>（以 <code>ghp_</code> 开头，关闭页面后将无法再次查看，先复制到文本编辑器）。</li></ul><hr><h3 id=4-将-pat-添加至源码仓库的-secrets>4. 将 PAT 添加至源码仓库的 Secrets<a hidden class=anchor aria-hidden=true href=#4-将-pat-添加至源码仓库的-secrets>#</a></h3><ol><li>打开源码仓库：<code>https://github.com/flash122u/hugo-blog-source</code>；</li><li>点击「Settings」→ 左侧「Secrets and variables」→「Actions」；</li><li>点击「New repository secret」。<ul><li><strong>Name</strong>：填写 <code>PERSONAL_TOKEN</code>（必须与后续的配置文件保持一致）；</li><li><strong>Value</strong>：粘贴刚才复制的 PAT 令牌；</li></ul></li><li>点击「Add secret」保存。</li></ol><hr><h3 id=5-配置-github-actions-实现自动部署>5. 配置 GitHub Actions 实现自动部署<a hidden class=anchor aria-hidden=true href=#5-配置-github-actions-实现自动部署>#</a></h3><h4 id=51-创建-actions-配置文件>5.1 创建 Actions 配置文件<a hidden class=anchor aria-hidden=true href=#51-创建-actions-配置文件>#</a></h4><p>在本地 <code>D:\Blog</code> 目录下，手动创建文件夹 <code>.github/workflows</code>（注意开头的点），然后在该文件夹内新建文件 <code>deploy.yml</code>，并粘贴以下完整配置。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy Hugo to GitHub Pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;main&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 允许手动触发部署</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># 配置权限</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>permissions</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>contents</span><span class=p>:</span><span class=w> </span><span class=l>read </span><span class=w> </span><span class=c># 读取源码仓库内容</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pages</span><span class=p>:</span><span class=w> </span><span class=l>write   </span><span class=w> </span><span class=c># Pages 相关权限</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>id-token</span><span class=p>:</span><span class=w> </span><span class=l>write</span><span class=w> </span><span class=c># 身份验证权限</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>concurrency</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;pages&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>cancel-in-progress</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build-and-deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># 步骤1.拉取源码仓库代码（包含 PaperMod 主题子模块）</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout source code</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># 必须开启，以拉取主题子模块</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># 步骤2.安装 Hugo 环境</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;latest&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># 使用扩展版以兼容 PaperMod 主题</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># 步骤3.生成静态文件（输出至 public 目录）</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build static files</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># 步骤4.部署静态文件至 Pages 仓库</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy to flash122u.github.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># 使用自定义 PAT 令牌（替代默认的 GITHUB_TOKEN）</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>personal_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.PERSONAL_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># 指定 Pages 仓库地址（替换为自己的 Pages 仓库地址）</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>external_repository</span><span class=p>:</span><span class=w> </span><span class=l>flash122u/flash122u.github.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># 静态文件目录</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># 推送至 Pages 仓库的 main 分支</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_branch</span><span class=p>:</span><span class=w> </span><span class=l>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># 强制覆盖，确保 Pages 仓库仅包含静态文件</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>force_orphan</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># 配置 Git 提交信息（避免报错）</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>user_name</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;github-actions[bot]&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=l>user_email = &#34;github-actions[bot]@users.noreply.github.com&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=52-将-actions-配置推送至源码仓库>5.2 将 Actions 配置推送至源码仓库<a hidden class=anchor aria-hidden=true href=#52-将-actions-配置推送至源码仓库>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=c># 进入本地站点目录</span>
</span></span><span class=line><span class=cl><span class=nb>cd </span><span class=n>D:</span><span class=p>\</span><span class=n>Blog</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># 添加配置文件</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>add</span> <span class=p>.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># 提交修改</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>commit</span> <span class=n>-m</span> <span class=s2>&#34;Add GitHub Actions workflow for double repo deployment&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># 推送至源码仓库</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>push</span> <span class=n>origin</span> <span class=n>main</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=6-配置-pages-仓库的-github-pages-来源>6. 配置 Pages 仓库的 GitHub Pages 来源<a hidden class=anchor aria-hidden=true href=#6-配置-pages-仓库的-github-pages-来源>#</a></h3><p>（一般为默认配置，无需修改。）</p><ol><li>打开 Pages 仓库：<code>https://github.com/flash122u/flash122u.github.io</code>；</li><li>点击「Settings」→ 左侧「Pages」；</li><li>在「Build and deployment」区域。<ul><li><strong>Source</strong>：选择 <code>Deploy from a branch</code>；</li><li><strong>Branch</strong>：选择 <code>main</code>，目录选择 <code>/ (root)</code>；</li></ul></li><li>点击「Save」保存配置。</li></ol><hr><h3 id=7-验证部署结果>7. 验证部署结果<a hidden class=anchor aria-hidden=true href=#7-验证部署结果>#</a></h3><p><strong>验证步骤1：打开源码仓库 <code>hugo-blog-source</code> → 点击「Actions」标签，查看 workflow 运行状态（绿色对勾表示成功）；</strong>
<strong>验证步骤2：运行成功后，打开 Pages 仓库 <code>flash122u.github.io</code>，可见 <code>main</code> 分支下已出现 html、css、js 等静态文件；</strong>
<strong>验证步骤3：等待 1-2 分钟，访问 <code>https://flash122u.github.io</code>，即可看到应用了 PaperMod 主题的 Hugo 站点，说明部署成功。</strong></p><hr><h2 id=四更新文章与配置>四、更新文章与配置<a hidden class=anchor aria-hidden=true href=#四更新文章与配置>#</a></h2><p>后续修改或添加内容。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=c># 1. 进入本地站点目录</span>
</span></span><span class=line><span class=cl><span class=nb>cd </span><span class=n>D:</span><span class=p>\</span><span class=n>Blog</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># 2. 创建新文章（示例）</span>
</span></span><span class=line><span class=cl><span class=n>hugo</span> <span class=n>new</span> <span class=n>content</span> <span class=n>posts</span><span class=p>/</span><span class=nb>my-new</span><span class=n>-article</span><span class=p>.</span><span class=nb>md
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># 3. 编辑文章（使用编辑器打开 posts/my-new-article.md 并撰写内容）</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># 4. 提交修改至本地仓库</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>add</span> <span class=p>.</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>commit</span> <span class=n>-m</span> <span class=s2>&#34;Add new article: 我的新文章&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># 5. 推送至源码仓库，触发自动部署</span>
</span></span><span class=line><span class=cl><span class=n>git</span> <span class=n>push</span> <span class=n>origin</span> <span class=n>main</span>  <span class=c># 若本地分支为 master，请改为 git push origin master:main</span>
</span></span></code></pre></td></tr></table></div></div><p>推送后，GitHub Actions 将自动运行，等1-2分钟，新内容便会同步至 <code>https://flash122u.github.io</code>。</p><h1 id=五集成-umami-统计>五.集成 Umami 统计<a hidden class=anchor aria-hidden=true href=#五集成-umami-统计>#</a></h1><h3 id=1注册-umami>1.注册 Umami<a hidden class=anchor aria-hidden=true href=#1注册-umami>#</a></h3><ol><li>访问 <a href=https://cloud.umami.is/signup>Umami Cloud 注册页</a>，输入邮箱、密码完成注册。</li><li>查收邮箱验证码并验证，登录后按提示选择数据区域，进入控制台。</li><li>点击 <strong>Add website</strong>，输入博客域名，提交后复制生成的 <code>websiteId</code>（一串 UUID）。</li></ol><hr><h3 id=2配置-hugotoml>2.配置 hugo.toml<a hidden class=anchor aria-hidden=true href=#2配置-hugotoml>#</a></h3><p>在博客根目录的 <code>hugo.toml</code> 中添加以下配置（保留原有内容，新增 analytics 节点）：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>params</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>analytics</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>analytics</span><span class=p>.</span><span class=nx>umami</span><span class=p>]</span>
</span></span><span class=line><span class=cl>      <span class=nx>src</span> <span class=p>=</span> <span class=s2>&#34;https://cloud.umami.is/script.js&#34;</span>  <span class=c># Umami 官方脚本地址</span>
</span></span><span class=line><span class=cl>      <span class=nx>websiteId</span> <span class=p>=</span> <span class=s2>&#34;630fc019-42d4-4053-894a-95f696994ca3&#34;</span>  <span class=c># 替换为你的 websiteId</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=3创建-extend_headhtml-模板>3.创建 extend_head.html 模板<a hidden class=anchor aria-hidden=true href=#3创建-extend_headhtml-模板>#</a></h3><ol><li>在博客根目录新建路径 <code>layouts/partials/</code>，在该目录下创建 <code>extend_head.html</code> 文件。</li><li>写入以下代码，实现脚本的条件加载：</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>{{- /* Umami Analytics */ -}}
</span></span><span class=line><span class=cl>{{- if .Site.Params.analytics.umami.src -}}
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>async</span> <span class=na>defer</span>
</span></span><span class=line><span class=cl>        <span class=na>data-website-id</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.analytics.umami.websiteId }}&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>src</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.analytics.umami.src }}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>{{- end -}}
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=4部署与验证>4.部署与验证<a hidden class=anchor aria-hidden=true href=#4部署与验证>#</a></h3><ol><li>提交代码并推送到 GitHub：</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git add . <span class=o>&amp;&amp;</span> git commit -m <span class=s2>&#34;Add Umami analytics&#34;</span> <span class=o>&amp;&amp;</span> git push
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>等待 GitHub Actions 完成部署，访问博客。</li><li>打开浏览器开发者工具（F12），在 <strong>Network</strong> 面板搜索 <code>script.js</code>，确认请求成功且 <code>data-website-id</code> 正确。</li><li>回到 Umami 控制台，即可查看实时访问数据。</li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://flash122u.github.io/tags/hugo/>Hugo</a></li></ul><nav class=paginav><a class=prev href=https://flash122u.github.io/posts/learn-solidity/><span class=title>« Prev</span><br><span>Solidity 学习记录_1</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://flash122u.github.io/>flash122u's blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>